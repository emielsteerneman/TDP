<!DOCTYPE html>
<html>
  <head>
    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/purecss@3.0.0/build/pure-min.css" integrity="sha384-X38yfunGUhNzHpBaEBsWLO+A0HDYOQi8ufWDkZ0k9e0eXz/tH3II7uKZ9msv++Ls" crossorigin="anonymous"> -->
    <!--
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.4.0/axios.js" integrity="sha512-RjvSEaeDqPCfUVQ9kna2/2OqHz/7F04IOl1/66LmQjB/lOeAzwq7LrbTzDbz5cJzlPNJ5qteNtHR56XaJSTNWw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    -->

    <link href="/static/bootstrap.min.css" rel="stylesheet">
    <script src="/static/vue.js"></script>
    <script src="/static/axios.js"></script>

  
    <title>{{ tdp['year'] }} - {{ tdp['team'] }}</title>
  </head>
  <body>
    <div id="app" class="container">
      <br>
			<div class="row">
				<div class="col-md-12 text-center" style="font-size: 20px;">
					<b> RoboTeam Twente </b> <img src="/static/logos/RoboTeam Twente.png" width=50px> has won the Open Source Awards 2023! A big thanks to everyone voting for us!
				</div>
			</div>
			<hr>

      <br>
      <div class="row">
        <div class="col-12 text-center   col-sm-12 text-sm-center   col-md-12   col-lg-6 text-lg-start">
          <h1>{{ tdp['year'] }} - {{ tdp['team'] }}</h1>
        </div>
        <div class="col-6 text-start   col-sm-6   col-md-6   col-lg-3 text-lg-end">
          <h1><a href="/tdps"> All TDPs </a></h1>
        </div>  
        <div class="col-6 text-end   col-sm-6  col-md-6   col-lg-3">
          <h1><a href="/query"> Query </a></h1>
        </div>  
      </div>


      <div class="row" style='padding-top:10px; color: #AAA'>
        <div class='col-md-8'>
          Feedback or questions? Message me on <a style='display: inline' href="https://discordapp.com/channels/@me/emielsteerneman/"> Discord </a> (emielsteerneman) or at emielsteerneman@gmail.com  
        </div>
        <div class="col-md-4 text-end">
          <a href="https://github.com/emielsteerneman/TDP"> Github <img src="/static/github.png" width=20px></a>
        </div>
      </div>

      <hr>

      <div class="row">
        <!-- PDF Viewer -->
        <div class="col-md-10">
            <object data="{{filepath}}" type="application/pdf" width="100%" height="900px">   
            <p>Unable to display PDF file. <a href="{{filepath}}">Download</a> instead.</p>
            <p> Are you on Firefox? Go to <code>about:config</code> and set <code>browser.download.open_pdf_attachments_inline</code> to <code>true</code>.</p> 
            </object>
        </div>

        <!-- Paragraphs -->
        <div class="col-md-2">
            
          <!-- For each paragraph -->
          {% raw %}
          <div style="overflow-y: scroll; overflow-x: hidden; padding-right: 10px;">
            <h3> Paragraphs </h3>
            <div v-for="paragraph in paragraphs" :key="paragraph">
              <div style="display:inline; font-size:14px; font-weight: bold;"> {{ paragraph['title'] }} </div>
              <br>
            </div>
          </div>
          {% endraw %}

        </div> <!-- Active paragraph -->

      </div> <!-- Main row -->
    </div> <!-- Container -->
    
    <script>
      TDP_ID = {{ tdp['id'] }}
    </script>
    {% raw %}
    <script>

    var app = new Vue({
        el: '#app',
        data: {
            message: 'You loaded this page on ' + new Date().toLocaleString(),
            paragraphs: [],
            active_paragraph: {
                id: -1,
                title: "",
                text: "",
            },
        },
        mounted: function() {
          axios.get("/api/tdps/" + TDP_ID + "/paragraphs")
            .then(response => {
              console.log(response.data)
              this.paragraphs = response.data
            })
        }
    })
    </script>
    {% endraw %}

  </body>
</html>